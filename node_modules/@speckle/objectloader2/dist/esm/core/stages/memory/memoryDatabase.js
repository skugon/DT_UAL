export class MemoryDatabase {
    items;
    constructor(options) {
        this.items = options?.items || new Map();
    }
    getAll(keys) {
        const found = [];
        for (const key of keys) {
            const item = this.items.get(key);
            if (item) {
                found.push({ baseId: key, base: item });
            }
            else {
                found.push(undefined);
            }
        }
        return Promise.resolve(found);
    }
    putAll(batch) {
        for (const item of batch) {
            if (!item.baseId || !item.base) {
                throw new Error('Item must have a baseId and base');
            }
            this.items.set(item.baseId, item.base);
        }
        return Promise.resolve();
    }
    dispose() {
        this.items.clear();
    }
}
//# sourceMappingURL=memoryDatabase.js.map