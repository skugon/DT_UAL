import { err, ok } from 'true-myth/result';
import { ensureAutomateEnabledFragment, ensureAutomateFunctionCreatorFragment } from '../../../fragments/automate.js';
export const canEditFunctionPolicy = (loaders) => async ({ userId, functionId }) => {
    const isAutomateEnabled = await ensureAutomateEnabledFragment(loaders)({});
    if (isAutomateEnabled.isErr)
        return err(isAutomateEnabled.error);
    const isAutomateFunctionCreator = await ensureAutomateFunctionCreatorFragment(loaders)({
        userId,
        functionId
    });
    if (isAutomateFunctionCreator.isErr)
        return err(isAutomateFunctionCreator.error);
    return ok();
};
//# sourceMappingURL=canEditFunction.js.map